{% set version = "research" %}
{% set pageTitle = "What’s the first line of their address and home postcode?" %}

{% extends "includes/layout.html" %}

{% block beforeContent %}
  <div class="govuk-phase-banner">
    <p class="govuk-phase-banner__content">
      <strong class="govuk-tag govuk-phase-banner__content__tag">
        beta
      </strong>
      <span class="govuk-phase-banner__text">
        This is a new service – your <a class="govuk-link" href="#">feedback</a> will help us to improve it.
      </span>
    </p>
  </div>

  <a class="govuk-back-link" href="/IBT/antigen/e2e-prototypes/{{version}}/global-registration/country-person-1">Back</a>
{% endblock %}

{% block content %}
  {% include "includes/gtm-noscript.html" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
        <h2 class="govuk-error-summary__title" id="error-summary-title">
          There is a problem
        </h2>
        <div class="govuk-error-summary__body">
          <ul class="govuk-list govuk-error-summary__list">
            <li>
              <a href="#error-1">Select an answer</a>
            </li>
          </ul>
        </div>
      </div>

      <form action="/IBT/antigen/e2e-prototypes/{{version}}/global-registration/nhs-number-known-person-1" method="post">

        <fieldset class="govuk-fieldset" aria-describedby="post-code-hint">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-heading-xl govuk-!-margin-bottom-6">
              What is the home address registered with {{ data['first-name-person-1'] | default('Jane') }} {{ data['last-name-person-1'] | default('Wilson') }}'s GP?
            </h1>
          </legend>
          <span id="post-code-hint" class="govuk-body">
            This will help us find and update their GP record with their test result. The test does not have to be sent to this address.
          </span>

          <div class="govuk-form-group--error">
          <div class="govuk-radios govuk-radios--conditional govuk-!-margin-top-6 govuk-!-margin-bottom-7" data-module="govuk-radios">
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="address-1-person-1" name="address-person-1" type="radio" value="Yes" {{ checked("address-person-1", "Yes") }}>
              <label class="govuk-label govuk-radios__label" for="address-1-person-1">
                {{ data['gp-address-line-1'] or '24 Green Lane' }} (the same as {{ data['first-name'] or 'John' }} {{ data['last-name'] or 'Appleseed' }})
              </label>
            </div>
            <div class="govuk-radios__item govuk-!-margin-bottom-6">
              <input class="govuk-radios__input" id="address-2-person-1" name="address-person-1" type="radio" value="Somewhere else" data-aria-controls="conditional-address" {{ checked("address-person-1", "Somewhere else") }}>
              <label class="govuk-label govuk-radios__label" for="address-2-person-1">
                Somewhere else
              </label>
            </div>
            <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-address">
              <div class="govuk-form-group">
                <label class="govuk-label" for="address-other-person-1">
                  First line of address
                </label>
                <input class="govuk-input govuk-!-width-one-third" id="address-other-person-1" name="address-other-person-1" value="{{ data['address-other-person-1'] }}">
              </div>
            </div>
          </div>

          <div class="govuk-radios govuk-radios--conditional govuk-!-margin-top-6 govuk-!-margin-bottom-7" data-module="govuk-radios">
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="home-postcode-1-person-1" name="home-postcode-person-1" type="radio" value="Yes" {{ checked("home-postcode-person-1", "Yes") }}>
              <label class="govuk-label govuk-radios__label" for="home-postcode-1-person-1">
                {{ data['gp-postcode'] or 'LS1 3BE' }} (the same as {{ data['first-name'] or 'John' }} {{ data['last-name'] or 'Appleseed' }})
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="home-postcode-2-person-1" name="home-postcode-person-1" type="radio" value="Somewhere else" data-aria-controls="conditional-home-postcode-person-1" {{ checked("home-postcode-person-1", "Somewhere else") }}>
              <label class="govuk-label govuk-radios__label" for="address-1-person-1">
                Somewhere else
              </label>
            </div>
            <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-home-postcode-person-1">
              <div class="govuk-form-group">
                <label class="govuk-label" for="postcode-other-person-1">
                  Postcode
                </label>
                <input class="govuk-input govuk-!-width-one-third" id="home-postcode-other-person-1" name="home-postcode-other-person-1" type="tel" value="{{ data['home-postcode-other-person-1'] }}">
              </div>
            </div>
          </div>
        </div>

        </fieldset>

        <button class="govuk-button" data-module="govuk-button">Continue</button>

      </form>

    </div>
  </div>

{% endblock %}
